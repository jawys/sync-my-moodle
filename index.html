<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
</head>

<body>
  <h1>Demo UI</h1>

  <fieldset>
    <legend>Anmeldedaten</legend>
    <input type="text" id="username" placeholder="Benutzername">
    <input type="password" id="password" placeholder="Passwort">
    <button id="save-credentials">Speichern</button>
  </fieldset>

  <p>
    <button id="get-courses">Hole Kurse</button>
    <button id="get-resources">Hole Arbeitsmaterial</button>
  </p>

  <fieldset>
    <legend>Kurse</legend>
    <div id="course-list">Hier sollten die Kurse angezeigt werden</div>
  </fieldset>
</body>

<script>
  // Importiere das ipc-Modul für den Renderer-Prozess
  const ipc = require('electron').ipcRenderer

  // Hole die einzelnen Buttons der GUI
  const saveBtn = document.getElementById('save-credentials')
  const coursesBtn = document.getElementById('get-courses')
  const resourcesBtn = document.getElementById('get-resources')

  // Füge den Buttons EventListener hinzu
  saveBtn.addEventListener('click', () => {
    const username = document.getElementById('username').value
    const password = document.getElementById('password').value
    const credentials = {
      username: username,
      password: password
    }
    ipc.send('save-credentials', credentials)
  })

  coursesBtn.addEventListener('click', () => {
    ipc.send('get-courses')
  })

  // Lausche auf das Event, wenn die Kursliste aktualisiert wurde
  ipc.on('received-courses', (event, courses) => {
    console.log(courses)
    document.getElementById('course-list').innerText = courses.map(course => course.title).join('\n')
  })


  // You can also require other files to run in this process
//  require('./renderer.js')
</script>

</html>
