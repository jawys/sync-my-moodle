<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
</head>

<body>
  <h1>Demo UI</h1>

  <fieldset>
    <legend>Anmeldedaten</legend>
    <input type="text" id="username" placeholder="Benutzername">
    <input type="password" id="password" placeholder="Passwort">
    <button id="save-credentials">Speichern</button>
  </fieldset>

  <p>
    <button id="get-courses">Hole Kurse</button>
    <button id="get-resources">Hole Arbeitsmaterial</button>
  </p>

  <fieldset>
    <legend>Kurse</legend>
    <div id="course-list">Hier sollten die Kurse angezeigt werden</div>
  </fieldset>
</body>

<script>
  // Import the ipc module for the renderer process
  const ipc = require('electron').ipcRenderer

  // Get the UI buttons
  const saveBtn = document.getElementById('save-credentials')
  const coursesBtn = document.getElementById('get-courses')
  const resourcesBtn = document.getElementById('get-resources')

  // Add EventListeners to the buttons
  saveBtn.addEventListener('click', () => {
    const username = document.getElementById('username').value
    const password = document.getElementById('password').value
    const credentials = {
      username: username,
      password: password
    }
    ipc.send('save-credentials', credentials)
  })
  coursesBtn.addEventListener('click', () => {
    ipc.send('get-courses')
  })

  // Update courses in UI after receiving them
  ipc.on('received-courses', (event, courses) => {
    console.log(courses)
    document.getElementById('course-list').innerText = courses.map(course => course.title).join('\n')
  })


  // You can also require other files to run in this process
//  require('./renderer.js')
</script>

</html>
